<!DOCTYPE html>
<html >
<head>
<meta charset="UTF-8">
<title>登录</title>
<link rel="stylesheet" href="/assert/css/login/login.css">


</head>

<body>

<main>

  <form class="form" id="form1"  onsubmit="return false" action="#" method="post">
    <div class="form__cover"></div>
    <div class="form__loader">
      <div class="spinner active">
        <svg class="spinner__circular" viewBox="25 25 50 50">
          <circle class="spinner__path" cx="50" cy="50" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"></circle>
        </svg>
      </div>
    </div>
    <div class="form__content">
      <h1>登录</h1>
      <div class="styled-input">
          <input type="text" class="styled-input__input" name="username">
          <div class="styled-input__placeholder"> <span class="styled-input__placeholder-text">Username</span> </div>
          <div class="styled-input__circle"></div>
       </div>

      <div class="styled-input">
        <input type="password" class="styled-input__input" name="password">
        <div class="styled-input__placeholder"> <span class="styled-input__placeholder-text">Password</span> </div>
        <div class="styled-input__circle"></div>
      </div>
        <div class="styled-input" style="width:55%;">
          <input type="text" class="styled-input__input" name="checkCode">
          <div class="styled-input__placeholder"> <span class="styled-input__placeholder-text">CheckCode</span> </div>
          <div class="styled-input__circle"></div>
        </div>
        <div class="styled-input" style="width: 45%;position: absolute;margin-left: 145px;margin-top: 59px;height: 54px">
          <img  id="kaptcha_img" style="width: 100%;height: 100%" src="/Kaptcha.jpg" onclick="_change()" alt="点击更换" title="点击更换"/>
        </div>
      <a href="/register.html" style="font-size: 15px;margin-bottom:5px;color: yellow">没有账号？请注册</a>
      <button type="button" onclick="login()" class="styled-button"> <span class="styled-button__real-text-holder"> <span class="styled-button__real-text">Submit</span> <span class="styled-button__moving-block face"> <span class="styled-button__text-holder"> <span class="styled-button__text">Submit</span> </span> </span><span class="styled-button__moving-block back"> <span class="styled-button__text-holder"> <span class="styled-button__text">Submit</span> </span> </span> </span> </button>
    </div>
  </form>
</main>
<div id='stars'></div>
<div id='stars2'></div>
<div id='stars3'></div>
<script src="/assert/js/jquery.js"></script>
<script  src="/assert/js/login/login.js"></script>
<script src="/assert/js/common.js"></script>
<script>
  function login() {
    $.ajax({
      //几个参数需要注意一下
      type: "POST",//方法类型
      dataType: "json",//预期服务器返回的数据类型
      url: "/user_login" ,//url
      data: $('#form1').serialize(),
      success: function (result) {
        if (result.resultStatus === true) {
          location.href="/index.html";
        }else{
          alert(result.resultMsg);
        }
      },
      error : function() {
        alert("异常！");
      }
    });
  }
</script>
</body>
</html>
